@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  a {
    @apply font-medium;
  }

  a:hover {
    @apply underline;
  }

  body {
    @apply antialiased bg-white dark:bg-gray-800 dark:text-white flex flex-col font-serif h-screen justify-between text-gray-700;
  }

  header {
    @apply mb-4;
  }

  header h1,
  header h2,
  header h3,
  header h4,
  header h5,
  header h6 {
    @apply font-medium text-xl;
  }

  /*** Subtitle ***/
  header p {
    @apply text-gray-500 dark:text-gray-300;
  }

  article section {
    @apply indent-6 leading-loose tracking-wide;
  }

  article section>* {
    @apply pb-2;
  }

  figure {
    @apply flex flex-col justify-between text-gray-500 dark:text-gray-300 rounded-md p-4 my-4;
  }

  figure figcaption {
    @apply border-b text-sm text-center dark:border-gray-700 border-gray-200 mb-2;
  }

  figure img {
    @apply rounded-md;
  }

  figure>*:last-child {
    @apply mb-2;
  }

  code {
    @apply px-2 block whitespace-pre font-mono text-sm sm:text-base rounded-md bg-black dark:text-white text-white;
  }

  body>header {
    @apply border-b border-gray-200 container dark:border-gray-700 flex justify-between items-center max-w-3xl mx-auto py-4;
  }

  body>header>h1 {
    @apply font-medium text-2xl text-gray-800 dark:text-white after:content-['.'];
  }

  body>main {
    @apply container max-w-3xl mx-auto py-4 mb-auto;
  }

  body>footer {
    @apply shadow-inner bg-gray-50 dark:bg-gray-700 py-4 text-center;
  }

  body>footer>div {
    @apply container mx-auto text-center;
  }

  nav>* {
    @apply pr-1;
  }

  nav {
    @apply flex flex-row text-lg;
  }

  nav>*:not(:last-child) {
    @apply pr-1;
  }

  nav>ol,
  nav>ul {
    @apply flex flex-row list-none;
  }

  nav>ol>li,
  nav>ul>li {
    @apply pr-1;
  }

  nav>ol>li:not(:nth-last-child(-n+2)):after,
  nav>ul>li:not(:nth-last-child(-n+2)):after {
    content: ',';
  }

  nav>ol>li:nth-last-child(2):after,
  nav>ul>li:nth-last-child(2):after {
    content: ', and';
  }

  nav>ol>li:nth-last-child(1):after,
  nav>ul>li:nth-last-child(1):after {
    content: '.';
  }

  /*** Landing Page ***/
  .landing main {
    @apply flex flex-col h-screen;
  }

  .landing main>* {
    @apply flex flex-col m-auto;
  }

  .landing header h1 {
    @apply text-3xl font-medium text-gray-800 dark:text-white;
  }

  .landing header h1:after {
    content: '.';
  }

  .landing header nav {
    @apply flex flex-row pt-8;
  }

  /*** List Page ***/
  main .list>article {
    @apply pb-4 mb-8;
  }

  main .list>article:not(:nth-last-child(1)) {
    @apply border-b;
  }

  main .list article>section {
    @apply line-clamp-2;
  }
}